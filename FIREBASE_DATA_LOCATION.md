# 📍 Firebase データ保存場所の確認方法

## 💾 データが保存される場所

**Firebase Firestore Database** に保存されます。

具体的には：

- **コレクション名**: `users`
- **ドキュメント ID**: あなたのユーザー ID（Firebase Authentication で自動生成された ID）
- **データ構造**:
  ```
  users/
    └── {あなたのユーザーID}/
        ├── ingredients: [食材の配列]
        ├── recipeHistory: [レシピ履歴の配列]
        ├── usageHistory: [使用履歴の配列]
        └── foodDictionary: [カスタム辞書の配列]
  ```

---

## 🔍 データの確認方法

### 方法 1: Firebase Console から確認

1. [Firebase Console](https://console.firebase.google.com/) にアクセス
2. プロジェクト `talkfridge-49568` を選択
3. 左メニューから「**Firestore Database**」をクリック
4. 「**データ**」タブを開く
5. 「**users**」というコレクション（フォルダ）をクリック
6. 中にあなたのユーザー ID が表示されます（長い英数字の文字列）
7. それをクリックすると、保存されたデータが表示されます

### 方法 2: アプリから確認

アプリ内で「食べた歴史」タブを開くと、ログインしている状態であれば：

- 「ログイン中: [あなたのメールアドレス]」と表示されます
- 食材を追加すると、自動的に Firebase に保存されます

---

## 📊 データの構造

Firestore に保存されるデータは以下のような形式です：

```json
{
  "ingredients": [
    {
      "id": 1,
      "name": "玉ねぎ",
      "quantity": 2,
      "unit": "個",
      "category": "野菜",
      "created_at": "2025-01-29T16:38:00.000Z"
    }
    // ... 他の食材
  ],
  "recipeHistory": [
    // レシピ履歴
  ],
  "usageHistory": [
    // 使用履歴
  ],
  "foodDictionary": [
    // カスタム辞書
  ]
}
```

---

## 💡 データの同期

- **自動保存**: 食材を追加すると、自動的に Firebase に保存されます
- **自動復元**: 別のデバイスやブラウザでログインすると、自動的に Firebase からデータを読み込んで復元します
- **リアルタイム同期**: 同じアカウントでログインした複数のデバイス間で、データが自動的に同期されます

---

## 🔒 セキュリティ

- あなたのデータは、あなたのユーザー ID のみがアクセスできます
- 他のユーザーはあなたのデータを見ることも変更することもできません
- セキュリティルールで保護されています（`rules_version = '2'` で設定済み）

---

## 🗑️ データの削除方法

もしデータを削除したい場合：

1. Firebase Console → Firestore Database → データ
2. 「users」コレクションを開く
3. 自分のユーザー ID をクリック
4. ドキュメントを削除（⚠️ 注意：削除すると復元できません）

または、アプリ内で「ログアウト」をクリックすると、このブラウザからはアクセスできなくなりますが、Firestore のデータ自体は残ります。

